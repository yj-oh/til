# 📚 클린코드 - 주석

## 💭 주석에 대한 저자의 생각
- 사실상 주석은 기껏해야 필요악
- 실패
  - 우리는 코드로 의도를 표현하지 못해, 실패를 만회하기 위해 주석 사용
- 주석은 오래될수록 코드에서 멀어진다.
  - 코드는 변화하고 진화한다.
  - 프로그래머들이 주석을 유지 보수하기란 현실적으로 불가능하다.

## 👉 그러므로
### 주석을 달기 전 코드로 의도를 표현할 방법에 대해 충분히 고민할 것
- 주석을 엄격하게 관리하고 정확성을 높이는 데에 힘을 쏟느니 
코드를 깔끔하게 정리하고 표현력을 높여 애초에 주석이 필요 없는 방향으로 에너지를 쏟는 게 낫다.

### 진실은 한곳에만 존재 → 코드
### 주석은 나쁜 코드를 보완하지 못함
- 지저분하고 엉망인 코드
- "이런! 주석을 달아야겠다!"
- 아니다! 코드를 정리해야 한다!

### 코드로 의도를 표현

---

## 👍 좋은 주석
- 법적인 주석
- 정보를 제공하는 주석
- 의도를 설명하는 주석
  - 구현 이해를 넘어 결정에 깔린 의도까지 설명하기도.
- 의미를 명료하게 밝히는 주석
  - 그릇된 주석이 될 가능성이 매우 크므로 주의
- 결과를 경고하는 주석
- TODO 주석
  - 필요하다 여기지만 당장 구현하기 어려운 업무
  - 나쁜 코드의 핑계로 사용하지 말 것.
  - 주기적으로 점검하여 제거해나가기
- 중요성을 강조하는 주석
- 공개 API에서 Javadocs

## 👎 나쁜 주석
- 주절거리는 주석
- 같은 이야기를 중복하는 주석
  - 실제로 코드보다 부정확해 독자가 함수를 대충 이해하고 넘어가게 만듦
  - 엔진 후드를 열어볼 필요가 없다고 고객에게 아양 떠는 중고차 판매원이 되지 말 것
- 오해할 여지가 있는 주석
- 의무적으로 다는 주석
  - 아무 가치도 없음.
  - 오히려 코드만 헷갈리게 하고 거짓말과 잘못된 정보를 제공할 여지만 만듦.
- 이력을 기록하는 주석
- 있으나 마나 한 주석
  - 너무나 당연한 사실을 언급하며 새로운 정보를 제공하지 못하는.
- 무서운 잡음
- 함수나 변수로 표현할 수 있다면 주석을 달지 마라
- 위치를 표시하는 주석
- 닫는 괄호에 다는 주석
- 공로를 돌리거나 저자를 표시하는 주석
- 주석으로 처리한 코드
- HTML 주석
- 전역 정보
  - 코드의 일부에 주석을 달면서 시스템의 전반적 정보를 기술하지 말 것
- 너무 많은 정보
- 모호한 관계
- 함수 헤더 
- 비공개 코드에서 Javadocs
- 예제

---

## 💭 읽고난 후 내 생각
- 나도 비주석파다.
- 불필요한 주석을 줄이고 되도록 코드로 풀어나가야 한다는 점에 동의.
- 오래된 코드를 유지 보수 하면서, 이미 코드와 멀어진 주석이나
  다른 개발자를 향한 편지 형식의 주석, 다른 개발자를 욕하는 주석 등등 별 주석을 다 봤다.
  - 주석 회의론자가 되었다. 🤔
  - 저자가 나쁜 주석 소개를 시작하며 `대다수 주석이 이 범주에 속한다`고 했듯이
    좋은 주석보다는 나쁜 주석을 보게 될 때가 더 많다.
- 버전 관리 툴에 익숙하지 않은 개발자들 중에 사용하지 않는 코드 등을
  지우는 게 아니라 주석 처리하여 남겨놓는 개발자가 꽤 많다.
  - 코드 볼 때 걸치적거려서 좋지 않다.
  - 저자도 `그러라고 버전 관리 툴이 존재하니 싹 지워라` 투의 이야기를 꽤 자주 한다.
- 명확하고 의도를 잘 드러내는 네이밍 등등에 신경을 써도 
  비영어권 나라에 사는 인간으로서의 한계(?)가 느껴질 때가 있다.
  - 한글 코딩을 해보면 훅 와닿는다.
- 주석에 대한 생각도 개발자마다 달라서, 주석에 대한 필요성을 강력하게 주장하는 사람도 있다.
- 같이 일하는 사람들끼리 협의점을 찾고 열심히 코드 리뷰하는 게 중요하겠다.

## 💭 내 주석 스타일 점검
- TODO, XXX 주석을 매우 유용하게 쓰고 있다.
- 다른 사람들에게 넘기고 싶지 않고 반드시 내가 하리라 피로 새긴 TODO는 
  `YJ_TODO` 주석을 따로 만들어 사용하기도 한다.
  - IDE 설정이라 나에게만 TODO 리스트에 뜨고 다른 개발자에게는 일반 주석으로 보일 것.
  - 이에 대해 다른 개발자들의 의견을 들어보지는 못했다.
- `나쁜 주석 - 의무적으로 다는 주석`을 읽으며 땀 삐질삐질.
    ```java
    /**
     * @param name 사과 이름
     * @param color 사과 색깔
     * @param grade 사과 등급
     */
    public void addApple(String name, String color, int grade) {
        Apple apple = new Apple();
        apple.name = name;
        apple.color = color;
        apple.grade = grade;
        appleBox.add(apple);
    }
    ```
  - 아무 생각 없이 의무적으로 형식 맞추기 위해 이렇게 달아놓은 주석이 꽤 많다.
  - 반성합니다.
- 분명 내가 짠 코드인데도 한참을 파악해야 의도가 보이는 코드가 많다.
  - 그래서 그걸 보완하는 차원에서 기본 정보를 제공하는 주석을 달곤 했다.
  - 코드를 어떻게 하면 딱딱딱 파악되게 짤 수 있을지를 많이 고민해야 할 듯.
- 예를 들면 이런 거다.
  - 최근 하고 있는 리액트 프로젝트에서 주석을 검색해봤다.
  - 실무 코드를 그대로 가져올 수는 없으니 비슷한 형태의 코드를 짜봤다.
```jsx
useEffect(() => {
    // 등록/수정 완료 후 페이지 이동
    if (toView && content.id && !loading && !error) {
    	history.push(`/list/${content.id}`);
    }
}, [toView, content.id, !loading, !error]);
```
- 등록/수정 요청 후 200이 떨어지면 페이지 이동을 해야 하는데,
  모든 request와 response를 공통화해둔 현재 상태에서 어떻게 해야 서버의 상태 코드에 따른 
  후처리를 할 수 있을지 방법을 찾지 못했다. 
  (충분히 공부할 시간 없이 실무 프로젝트에 다짜고짜 던져져 리액트에 대한 이해도가 아예 전무하던 시절)
- 임시방편으로 useState 값과 redux의 loading, error 값에 따라
  페이지 이동을 시켰다. 코드만 놓고 봤을 때 도무지 뭐 저런 if절이 있나 싶을 듯하여 
  의도를 설명하는 주석을 달지 않을 수 없었다.
- 지금은 방법을 찾았고, 그 코드에는 저런 주석이 전혀 필요하지 않다.
- 극단적인 예지만, 이런 비슷한 상황들이 찾아보면 꽤 많지 않을까 하는 생각을 한다.
- 완벽한 코드를 짤 수 있다면 좋겠지만 현실적으로 불가능하고, 항상 촉박하게 돌아가는 일정 속에서
  충분히 머리 싸매고 고민할 시간도 없어서 그에 대한 보완책으로 주석을 사용하는 케이스가 매우 많은데
  그렇다고 해서 그걸 변명으로 삼지 말고, 코드를 잘 짜기 위한 고민과 노력과 공부를 게을리 하지 말아야겠다는
  다짐을 새삼스레 하며 마무리한다.
